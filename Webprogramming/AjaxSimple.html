<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title>Ajax Simple</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style type="text/css">
            @import "../css/sojoe_default.css";
        </style>
        <script type="text/javascript" src="jsp/utility.js">

        </script>

    </head>
    <body>
        <div class="HP_title"><h1>Calling server functions with Ajax</h1></div>
        <div class="main_menu">
            <ol class="menutop">
                <li><a href="index.xhtml"> Webprog. start </a></li>
            </ol>
            <ol class="menumain">
                <li><a href="JavascriptExamples.html"> Javascript </a></li>
                <!--                <li><a href="Q2.html"> Question2 </a></li>-->
                <li><a href="AjaxSimple.html"> Ajax </a></li>
                <li><a href="XMLDOM.html"> XML </a></li>
                <li><a href="FlikrExamples.html"> Flikr </a></li>
                <li><a href="FlikrGoogle.html"> Flikr and Gmaps </a></li>
            </ol>
        </div>
        <div class="mainwindow"> 
            <div><h2>Getting Servertime via Ajax</h2></div>
            <div>
                <form name='myForm'>
                    <input type='button' value="Call Servertime" onClick="ajaxFunction();" /> <br />
                    Time: <input type='text' name='time' />
                </form>
            </div>
            <div>
                <h3>Source Code:</h3>
                <h4>Javascript:</h4>
                <textarea class="source">           
function ajaxFunction(){
	var ajaxRequest;  // The variable that makes Ajax possible!
	
	try{
		// Opera 8.0+, Firefox, Safari
		ajaxRequest = new XMLHttpRequest();
	} catch (e){
		// Internet Explorer Browsers
		try{
			ajaxRequest = new ActiveXObject("Msxml2.XMLHTTP");
		} catch (e) {
			try{
				ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
			} catch (e){
				// Something went wrong
				alert("Your browser broke!");
				return false;
			}
		}
	}
	// Create a function that will receive data sent from the server
	ajaxRequest.onreadystatechange = function(){
		if(ajaxRequest.readyState == 4){
			document.myForm.time.value = ajaxRequest.responseText;
		}
	}
	ajaxRequest.open("GET", "servertime.php", true);
	ajaxRequest.send(null); 
}
                </textarea>     

                <h4>PHP:</h4>
                <textarea class="sourceshort">           
<?php
echo date("H:i:s");
?>

                </textarea>  
            </div>
        </div>
    </body>
</html>